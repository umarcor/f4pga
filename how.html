<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  <link rel="stylesheet" href="_static/stylesheets/f4pga.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>How it works &#8212; F4PGA  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="_static/material.css?v=79c92029" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/favicon.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Supported Architectures" href="status.html" />
    <link rel="prev" title="Getting started" href="getting-started.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=indigo data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#how" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="F4PGA  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">F4PGA  documentation</span>
          <span class="md-header-nav__topic"> How it works </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
              autocapitalize="off" autocomplete="off" spellcheck="false"
              data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/chipsalliance/f4pga" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    chipsalliance/f4pga
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list" style="float:left">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">F4PGA  documentation</a></li>
      </ul>
      <ul class="md-tabs__list" id="chipsalliance-header" style="float:right">
        
	  <li class="md-tabs__item"><a href="https://chipsalliance.org" class="md-tabs__link">
	    <i class="md-icon">web</i> CHIPS Alliance Website</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="F4PGA documentation" class="md-nav__button md-logo">
      
        <img src="_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="F4PGA documentation">F4PGA  documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/chipsalliance/f4pga" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    chipsalliance/f4pga
  </div>
</a>
    </div>
  
  

<ul class="md-nav__list">
  <li class="md-nav__item">
  
    <span class="md-nav__link caption"><span class="caption-text">About F4PGA</span></span>
  
  </li>
  <li class="md-nav__item">
  
      <a href="getting-started.html" class="md-nav__link">
        Getting started</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="#" class="md-nav__link md-nav__link--active">
        How it works</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="status.html" class="md-nav__link">
        Supported Architectures</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="community.html" class="md-nav__link">
        Community</a>
    

  
  </li>
  <li class="md-nav__item">
  
    <span class="md-nav__link caption"><span class="caption-text">Python utils</span></span>
  
  </li>
  <li class="md-nav__item">
  
      <a href="f4pga/index.html" class="md-nav__link">
        Overview</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="f4pga/Usage.html" class="md-nav__link">
        Usage</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="f4pga/modules/index.html" class="md-nav__link">
        Modules</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="f4pga/DevNotes.html" class="md-nav__link">
        Developer’s notes</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="f4pga/Deprecated.html" class="md-nav__link">
        Understanding the (deprecated) flow</a>
    

  
  </li>
  <li class="md-nav__item">
  
    <span class="md-nav__link caption"><span class="caption-text">Development</span></span>
  
  </li>
  <li class="md-nav__item">
  
      <a href="development/changes.html" class="md-nav__link">
        Changes</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="development/building-docs.html" class="md-nav__link">
        Building the documentation</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="development/venv.html" class="md-nav__link">
        Packages in virtual environment</a>
    

  
  </li>
  <li class="md-nav__item">
  
    <span class="md-nav__link caption"><span class="caption-text">Design Flows</span></span>
  
  </li>
  <li class="md-nav__item">
  
      <a href="flows/index.html" class="md-nav__link">
        Introduction</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="flows/synthesis.html" class="md-nav__link">
        Synthesis</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="flows/pnr.html" class="md-nav__link">
        Place & Route</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="flows/bitstream.html" class="md-nav__link">
        Bitstream translation</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="flows/f4pga.html" class="md-nav__link">
        In F4PGA</a>
    

  
  </li>
  <li class="md-nav__item">
  
    <span class="md-nav__link caption"><span class="caption-text">Specifications</span></span>
  
  </li>
  <li class="md-nav__item">
  
      <a href="https://fasm.readthedocs.io/en/latest/" class="md-nav__link">
        FPGA Assembly (FASM) ➚</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="https://chipsalliance/fpga-interchange-schema" class="md-nav__link">
        FPGA Interchange schema ➚</a>
    

  
  </li>
  <li class="md-nav__item">
  
    <span class="md-nav__link caption"><span class="caption-text">Appendix</span></span>
  
  </li>
  <li class="md-nav__item">
  
      <a href="glossary.html" class="md-nav__link">
        Glossary</a>
    

  
  </li>
  <li class="md-nav__item">
  
      <a href="references.html" class="md-nav__link">
        References</a>
    

  
  </li>
</ul>

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
  <ul class="md-nav__list" data-md-scrollfix="">
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/how.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="how-it-works">
<h1 id="how--page-root">How it works<a class="headerlink" href="#how--page-root" title="Link to this heading">¶</a></h1>
<p>To understand how F4PGA works, it is best to start with an overview of the general EDA tooling ecosystem and then
proceed to see what the F4PGA project consists of.
For both ASIC- and FPGA-oriented EDA tooling, there are three major areas that the workflows need to cover: description,
frontend and backend.</p>
<img alt="_images/EDA.svg" class="align-center" src="_images/EDA.svg"/><p>Hardware description languages are either established (such as Verilog and <a class="reference external" href="https://IEEE-P1076.gitlab.io/">VHDL ➚</a>) or
emerging software-inspired paradigms like
<a class="reference external" href="https://chisel.eecs.berkeley.edu/">Chisel ➚</a>,
<a class="reference external" href="https://spinalhdl.github.io/SpinalDoc-RTD/">SpinalHDL ➚</a>,
<a class="reference external" href="https://m-labs.hk/gateware/migen/">Migen ➚</a>, or
<a class="reference external" href="https://github.com/amaranth-lang">Amaranth ➚</a>.
Since early 2000s, free and open source tools allow simulating HDLs.
However, for several decades the major problem lay in the frontend and backend, where there was no established
standard vendor-neutral tooling that would cover all the necessary components for an end-to-end flow.
This pertains both to ASIC and FPGA workflows.
Although F4PGA focuses on the latter, some parts of F4PGA will also be useful in the former.</p>
<p>To achieve F4PGA’s goal of a complete FOSS FPGA toolchain, a number of tools and projects are necessary to provide all
the needed components of an end-to-end flow.
The F4PGA toolchains consist of logic synthesis and implementation tools, as well as chip documentation projects for
chips of various vendors.
Thus, F4PGA serves as an umbrella project for several activities.</p>
<img alt="_images/parts.svg" class="align-center" src="_images/parts.svg"/><p>The central resources are the so-called FPGA “architecture definitions” (i.e. documentation of how specific FPGAs work
internally) and the “interchange schema” (for logical and physical netlists).
Those definitions serve as input to frontend and backend tools, such as
<a class="reference external" href="https://yosyshq.net/yosys/">Yosys ➚</a>,
<a class="reference external" href="https://github.com/YosysHQ/nextpnr">nextpnr ➚</a> and <a class="reference external" href="https://verilogtorouting.org/">Verilog to Routing ➚</a>.
They are created within separate collaborating projects targeting different FPGAs:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://f4pga.readthedocs.io/projects/prjxray/en/latest/index.html" title="(in Project X-Ray v0.0-3799-g3418f9b5)"><span class="xref std std-doc">Project X-Ray ➚</span></a> for Xilinx 7-Series</p></li>
<li><p><a class="reference external" href="http://bygone.clairexen.net/icestorm/">Project IceStorm ➚</a> for Lattice iCE40</p></li>
<li><p><a class="reference external" href="https://prjtrellis.readthedocs.io/en/latest/index.html" title="(in Project Trellis)"><span class="xref std std-doc">Project Trellis ➚</span></a> for Lattice ECP5 FPGAs</p></li>
</ul>
<p>More information can be found at <a class="reference external" href="https://f4pga.readthedocs.io/projects/arch-defs/en/latest/index.html" title="(in F4PGA Architecture Definitions vlatest)"><span class="xref std std-doc">F4PGA Architecture Definitions ➚</span></a> and <a class="reference external" href="https://fpga-interchange-schema.readthedocs.io/index.html" title="(in FPGA Interchange Format v0.0-99-gc985b46)"><span class="xref std std-doc">FPGA Interchange ➚</span></a>.</p>
<p>To prepare a working bitstream for a particular FPGA chip, the toolchain goes through the following stages:</p>
<ul>
<li><p>A description of the FPGA chip is created with the information from the relevant bitstream documentation
project.
This part is done within the <a class="reference external" href="https://github.com/f4pga/f4pga-arch-defs">F4PGA Architecture Definitions ➚</a>.
The project prepares information about the timings and resources available in the chip needed at the implementation
stage, as well as techmaps for the synthesis tools.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This stage is typically pre-built and installed as assets.
However, developers contributing to the bitstream documentation might build it.</p>
</div>
</li>
<li><p>Then, logic synthesis is carried out in the <a class="reference external" href="https://yosyshq.net/yosys/">Yosys ➚</a> framework, which expresses the
user-provided hardware description by means of the block and connection types available in the chosen chip.</p></li>
<li><p>The next step is implementation.
Placement and routing tools put individual blocks from the synthesis description in specific chip locations and create
paths between them.
To do that, F4PGA uses either <a class="reference external" href="https://github.com/YosysHQ/nextpnr">nextpnr ➚</a> or <a class="reference external" href="https://github.com/verilog-to-routing/vtr-verilog-to-routing">Verilog to Routing ➚</a>.</p></li>
<li><p>Finally, the design properties are translated into a set of features available in the given FPGA chip.
These features are saved in the <a class="reference external" href="https://github.com/chipsalliance/fasm">FASM format ➚</a>, which is developed as part of F4PGA.
The FASM file is then translated to a bitstream, using the information from the bitstream documentation projects.</p></li>
</ul>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="getting-started.html" title="Getting started"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Getting started </span>
              </div>
            </a>
          
          
            <a href="status.html" title="Supported Architectures"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Supported Architectures </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-social">
          
            <div class="md-footer-social__link">
              <a href="https://chipsalliance.org/" target="_blank">CHIPS Alliance</a>
            </div>
            </ul>
            <div class="md-footer-social__link">
              <a href="https://github.com/chipsalliance/f4pga" target="_blank">GitHub</a>
            </div>
        </div>
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright F4PGA Authors, 2019 - 2022.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
             and
            <a href="https://github.com/f4pga/sphinx_f4pga_theme">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script src="_static/javascripts/f4pga.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>